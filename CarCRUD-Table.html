<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Table</title>
    <link rel="stylesheet" href="/Css/bootstrap.min.css">
    <style>

    </style>
</head>
<body style="background-color: rgb(115, 35, 126);">
    <div class="container mt-3" style="margin-top: 750px; position: static; z-index: 5;">
        <input type="text" id="aramakutusu" onkeyup="tabloarama()" placeholder="Ara...">

        <table class="table table-dark" id="dataTbl">
            <thead>
                <th>Num</th>
                <th>Car ID</th>
                <th>Car Name</th>
                <th>Car Model</th>
                <th>Car Price</th>

                <th>Car AgeLimit</th>
                <th>Car Passenger</th>
                <th>Car Suitcase</th>
                <th>Car Gear</th>

                <th>Car FuelType</th>
                <th>Car CategoriType</th>
            </thead>
            <tbody></tbody>
        </table>
    </div>


    <script src="/Js/Firebase.js"></script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>

    <script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
import { getDatabase, set, ref, push, child, onValue, get } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js";
        
const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);
    window.onload = resfreshtable();


    function resfreshtable() {
        $('#dataTbl td').remove();
        var rowNum = 0;
        const dbRef = ref(database, 'Cars/');

        onValue(dbRef, (snapshot) => {
            snapshot.forEach((childSnapshot) => {
                const childKey = childSnapshot.key;
                const childData = childSnapshot.val();
                // ...
                rowNum += 1;
                var row = "<tr><td>" +
                    rowNum + "</td><td>" + 
                    childData.CarID + "</td><td>" +
                    childData.CarName + "</td><td>" +
                    childData.CarModel + "</td><td>" + 
                    childData.CarPrice + "</td><td>" +
                        
                    childData.AgeLimit + "</td><td>" +
                    childData.CarPassenger + "</td><td>" +
                    childData.CarSuitcase + "</td><td>" +
                    childData.CarGear + "</td><td>" +


                    childData.CarFuelType + "</td><td>" +
                    childData.CarCategoriType + "</td></tr>"

                $(row).appendTo('#dataTbl');

            });
        }, {
            onlyOnce: true
        });

    }
    </script>
<script>
    //https://klavyeisaretleri.blogspot.com/2019/03/javascript-tablo-icerisinde-arama-yapma-kodu.html
    function tabloarama() {
     var e, t, n, a, l;
     for (e = document.getElementById("aramakutusu").value.toUpperCase(), t = document.getElementById("dataTbl").getElementsByTagName("tr"), l = 1; l < t.length; l++) {
       t[l].style.display = "none", n = t[l].getElementsByTagName("td");
       for (var m = 0; m < n.length; m++)
         if ((a = t[l].getElementsByTagName("td")[m]) && a.innerHTML.toUpperCase().indexOf(e) > -1) {
           t[l].style.display = "";
           break
         }
     }
   }
   </script>
</body>
</html>